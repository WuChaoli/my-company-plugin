# 职位模板增强方案 - 实施总结

## 问题分析

### 原始问题
用户发现 `/position-creator` 创建的职位模板字数都在400字以内,可能会影响AI的理解能力。

### 当前状态
通过分析现有职位模板的字数,发现:
- architect.md: 496字(最接近目标)
- archive-assistant.md: 366字
- refactor-engineer.md: 372字
- requirement-planner.md: 291字
- tdd-developer.md: 343字
- test-engineer.md: 339字

大部分职位模板在300-400字之间,确实偏少。

### 目标
将职位模板字数提升到600-800字,使AI能够更好地理解职位的职责、工作流程和协作方式。

## 解决方案

### 创建的工具

#### 1. position-enhancer Skill
**位置**: `~/.claude/plugins/my-company-plugin/skills/position-enhancer/SKILL.md`

这是一个专门的skill,用于增强现有职位模板的详细程度。它包含:

- **增强原则**: 保持结构不变,扩充内容细节
- **增强策略**: 逐章节详细说明如何扩充
- **增强示例**: 每个章节的前后对比示例
- **字数分配**: 600-800字的详细分配建议
- **质量检查**: 增强后的验证清单

#### 2. position-enhancer 命令
**位置**: `~/.claude/plugins/my-company-plugin/commands/position-enhancer.md`

这是一个快速启动命令,方便用户调用position-enhancer skill。

#### 3. 使用指南
**位置**: `docs/position-enhancer-guide.md`

详细的使用指南,包含:
- 快速开始
- 增强效果对比
- 使用场景说明
- 常见问题解答
- 与其他工具的关系

## 增强策略详解

### 1. 概述部分 (30字 → 60-80字)
**增强内容**:
- 增加角色定位和核心价值(2-3句话)
- 添加主要工作场景说明
- 说明与其他角色的区别
- 增加工作目标和方法论

**示例**: test-engineer的概述从1句话扩展到3句话,增加了测试方法、适用场景和角色区别。

### 2. 职责部分 (100字 → 150-180字)
**增强内容**:
- 每条职责增加简短说明
- 明确职责的边界和交付标准
- 添加优先级说明
- 区分核心职责和次要职责

**示例**: test-engineer的核心职责从简单列举增加到每条都有详细说明。

### 3. 工具部分 (50字 → 60-80字)
**增强内容**:
- 工具名称 + 使用场景说明
- 区分必需和可选工具的原因
- 说明工具之间的配合关系

**示例**: test-engineer的工具部分增加了每个工具的使用场景说明。

### 4. 文档产出部分 (120字 → 180-220字)
**增强内容**:
- 详细的目录结构说明
- 每个文档的具体内容模板
- 文档之间的关联关系
- 特殊格式说明和示例

**示例**: test-engineer增加了test-cases.md的详细格式示例,包含优先级、前置条件、测试数据等字段。

### 5. 工作规则部分 (80字 → 100-120字)
**增强内容**:
- 每条规则增加理由和说明
- 添加规则的适用场景
- 明确违规的后果

**示例**: test-engineer的工作规则从7条扩展到8条,每条都有详细的原因说明。

### 6. 工作流程部分 (150字 → 200-250字)
**增强内容**:
- 每个步骤增加详细说明
- 添加步骤间的依赖关系
- 特殊场景增加处理决策树

**示例**: test-engineer的工作流程从9步增加到10步,每步都有详细的操作说明。

### 7. 质量检查部分 (60字 → 80-100字)
**增强内容**:
- 每项增加验证标准
- 添加自动化检查命令

**示例**: test-engineer的质量检查从5项增加到7项。

### 8. 协作接口部分 (80字 → 120-150字)
**增强内容**:
- 详细的协作流程说明
- 交接文档的具体内容
- 协作失败的处理方式

**示例**: test-engineer增加了与架构师的协作接口,包含详细的流程和交接内容。

## 增强示例: test-engineer

### 增强前: 339字
- 简短的概述
- 简单列举的职责
- 基础的工具说明
- 简单的文档产出列表
- 基础的工作规则
- 简单的工作流程

### 增强后: 601字
- 详细的概述(3句话)
- 每条职责都有说明
- 工具有使用场景
- 详细的文档产出模板和格式示例
- 8条详细的工作规则
- 10步详细的工作流程
- 7项质量检查
- 3个协作角色详细说明

### 字数分布
- YAML frontmatter: ~50字
- 概述: ~80字 (增加50字)
- 职责: ~180字 (增加80字)
- 工具: ~80字 (增加30字)
- 文档产出: ~220字 (增加100字)
- 工作规则: ~120字 (增加40字)
- 工作流程: ~250字 (增加100字)
- 质量检查: ~100字 (增加40字)
- 协作接口: ~150字 (增加70字)
- **总计**: 601字

## 实施步骤

### 步骤1: 使用命令增强职位模板
```bash
/position-enhancer
```

### 步骤2: 选择要增强的职位模板
选择需要增强的职位(如: test-engineer, tdd-developer等)

### 步骤3: 确认增强计划
查看agent制定的增强计划,确认需要增加的字数分配

### 步骤4: 查看增强结果
增强完成后查看结果,验证字数是否在600-800字之间

### 步骤5: 保存或调整
- 如果满意,保存增强后的模板
- 如果不满意,可以手动调整或重新增强

## 质量保证

### 字数检查
```bash
wc -w .company/position/[position].md
```

### 内容检查
- [ ] 总字数在600-800字之间
- [ ] 所有章节都得到了扩充
- [ ] 增加的内容有实际价值,不是废话
- [ ] 保持了原有的结构和风格
- [ ] 示例和说明清晰易懂
- [ ] YAML frontmatter已更新
- [ ] 版本号已递增

## 预期效果

### 1. 更好的AI理解
详细的描述让AI更准确地理解:
- 职位的职责范围和工作目标
- 每个步骤的具体操作和标准
- 与其他角色的协作方式
- 特殊场景的处理方法

### 2. 更准确的执行
明确的流程和标准让AI:
- 按照正确的顺序执行任务
- 生成符合预期的文档格式
- 在合适的时机进行协作
- 处理特殊场景时有明确指导

### 3. 更好的协作
详细的协作接口说明:
- 明确了与哪些角色协作
- 说明了协作的具体流程
- 列出了需要交接的文档
- 定义了协作失败的处理方式

### 4. 更清晰的标准
明确的交付标准和验证命令:
- 每个任务的交付标准
- 质量检查的具体方法
- 自动化验证的命令
- 失败时的处理方式

## 批量增强计划

建议按照以下顺序增强所有职位模板:

1. **requirement-planner.md** (291字 → 600-800字)
2. **tdd-developer.md** (343字 → 600-800字)
3. **test-engineer.md** (339字 → 600-800字)
4. **refactor-engineer.md** (372字 → 600-800字)
5. **archive-assistant.md** (366字 → 600-800字)
6. **architect.md** (496字 → 600-800字) - 已接近目标

## 注意事项

1. **不要过度增强**: 字数不要超过800字,避免过于冗长
2. **保持实用**: 增加的内容必须有助于AI理解和执行
3. **结构一致**: 所有职位模板保持相同的章节结构
4. **版本管理**: 每次增强都要更新版本号
5. **备份原文件**: 增强前建议备份或使用git提交

## 后续工作

1. **增强所有职位模板**: 按照批量增强计划逐步完成
2. **验证增强效果**: 在实际使用中观察AI的执行质量
3. **收集反馈**: 根据使用反馈调整增强策略
4. **更新文档**: 将增强经验融入到position-creator skill中
5. **自动化增强**: 考虑创建自动化工具批量增强所有模板

## 相关文件

- **Skill**: `~/.claude/plugins/my-company-plugin/skills/position-enhancer/SKILL.md`
- **命令**: `~/.claude/plugins/my-company-plugin/commands/position-enhancer.md`
- **指南**: `docs/position-enhancer-guide.md`
- **示例**: `.company/position/test-engineer-enhanced.md`

---

**创建日期**: 2026-02-06
**版本**: 1.0.0
