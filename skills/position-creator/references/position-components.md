# 职位模板组件说明

详细说明职位模板各部分的编写指南（800字以内）。

## 目录结构

职位模板包含11个主要部分，总字数控制在800字以内。

---

## 1. YAML Frontmatter (~50字)

### 用途
定义职位的元数据。

### 必需字段
```yaml
---
role: senior-architect      # 英文小写+连字符
position: 资深架构师        # 中文职位名
department: 技术部          # 部门名称
version: 1.0.0             # 语义化版本
created: 2026-02-02        # 创建日期
updated: 2026-02-02        # 更新日期
skills:
  fixed:
    - doc-location-manager
  role_specific:
    - c4-architecture
    - mermaid-diagrams
agents:
  recommended:
    - name: code-explorer
      purpose: 探索代码库结构
    - name: lite-dev
      purpose: 快速功能实现
---
```

### 编写指南
- **role**: 英文小写，连字符分隔（如：`product-manager`）
- **position**: 中文职位名称
- **department**: 部门或团队名称
- **version**: 遵循语义化版本规范
- **created/updated**: YYYY-MM-DD格式

### skills 字段
定义该职位需要加载的技能：
- **fixed**: 固定加载的技能（所有职位必需包含 `doc-location-manager`）
- **role_specific**: 职位专属技能（2-4个）

### agents 字段
定义该职位可以调用的推荐 agents：
- **recommended**: 推荐使用的 agent 列表
  - **name**: agent 名称
  - **purpose**: 简短说明用途（5-10字）

---

## 2. 概述 (~30字)

### 用途
1-2句话概括角色定位和核心价值。

### 示例
```
负责系统架构设计和技术决策，确保系统可扩展性、可维护性和技术前瞻性。
```

### 编写指南
- 控制在1-2句话
- 说明核心职责和价值
- 不超过30字

---

## 3. 职责 (~100字)

### 核心职责（3-5条）
最重要的职责，使用动词开头，每条一句话。

### 次要职责（2-3条）
辅助性职责，每条一句话。

### 示例
```
### 核心职责
- 设计系统架构和技术方案
- 制定技术标准和最佳实践
- 评估技术选型和风险
- 指导团队技术实施

### 次要职责
- 参与技术评审和讨论
- 培养团队技术能力
```

### 编写指南
- 核心职责不超过5条
- 次要职责不超过3条
- 使用动词开头
- 每条一句话
- 总字数控制在100字以内

---

## 4. 工具 (~50字)

### 必需工具
该职位必须使用的工具。

### 可选工具
根据情况使用的工具。

### 示例
```
**必需工具**: Read, Write, Bash

**可选工具**: Grep, Glob, Task
```

### 编写指南
- 只列工具名称，不添加说明
- 分为必需和可选两组
- 用逗号分隔
- 控制在50字以内

---

## 6. 文档产出 (~120字)

使用表格列出核心文档（3-5个）。

### 示例
| 文档名称 | 位置 | 用途 | 更新频率 |
|---------|------|------|---------|
| 架构设计 | `docs/arch/design.md` | 架构方案 | 每个版本 |
| API文档 | `docs/api/` | 接口说明 | 每次变更 |
| 技术决策 | `docs/arch/adr/` | 决策记录 | 每次决策 |

### 编写指南
- 使用表格格式
- 只列核心文档（3-5个）
- 简短说明用途和频率
- 控制在120字以内

### 文档路径设计最佳实践

**考虑多次执行场景**：
- 避免文档覆盖：使用时间戳+描述命名（如：`DD-HHMM_description`）
- 同一次执行的所有文档放在同一目录

**上下文工程集成**：
- 查看活跃上下文：读取 `docs/contexts/.contexts-index.json`（如果存在）
- 功能相关文档：放在 `docs/contexts/YYYY-MM-DD_feature/` 下
- 独立任务：新建 `docs/contexts/YYYY-MM-DD_task/` 目录
- 通用配置：可以放在 `docs/` 其他位置

**示例**：
```
| 测试用例 | `docs/contexts/YYYY-MM-DD_feature/testing/DD-HHMM_test-desc/test-cases.md` | 本次测试用例 | 每次测试 |
| 测试环境 | `docs/testing/env.md` | 测试环境配置 | 首次/变更时 |
```

---

## 7. 工作规则 (~80字)

4条核心工作规则，每条一句话，具体可执行。

### 示例
```
1. 架构设计必须考虑可扩展性和可维护性
2. 技术选型必须进行充分调研和评估
3. 关键决策必须记录架构决策记录（ADR）
4. 代码质量必须符合团队标准和最佳实践
```

### 编写指南
- 4条核心规则
- 每条一句话，具体可执行
- 控制在80字以内

---

## 8. 工作流程 (~150字)

### 标准流程（4-6步）
主要工作流程，每步一句话说明。

### 特殊场景（2-3个）
特殊情况的简要处理方式。

### 示例
```
### 标准流程
1. **需求分析**: 理解业务需求和技术约束
2. **架构设计**: 设计系统架构和技术方案
3. **技术评审**: 组织评审并收集反馈
4. **方案实施**: 指导团队实施架构方案
5. **文档更新**: 更新架构文档和ADR

### 特殊场景
- **紧急需求**: 快速评估风险，提供最小可行方案
- **技术债务**: 识别和记录技术债务，制定重构计划
```

### 编写指南
- 标准流程4-6步
- 特殊场景2-3个
- 每步/场景一句话说明
- 控制在150字以内

---

## 9. 质量检查 (~60字)

4-6项检查项，简短具体。

### 示例
```
- [ ] 架构设计符合业务需求
- [ ] 技术方案经过充分评估
- [ ] 架构文档完整准确
- [ ] 代码质量符合标准
```

### 编写指南
- 4-6项检查项
- 简短具体
- 控制在60字以内

---

## 10. 协作接口 (~80字)

列出主要协作角色，简短说明协作场景和交接文档。

### 示例
```
### 与产品经理协作
- **场景**: 需求评审、技术可行性分析
- **交接**: 技术方案文档

### 与开发者协作
- **场景**: 架构实施、技术指导
- **交接**: 架构设计文档、API文档
```

### 编写指南
- 只列主要协作角色
- 简短说明协作场景
- 控制在80字以内

---

## 字数检查

创建职位模板后，使用以下命令检查字数：

```bash
wc -w .company/position/[role-name].md
```

确保总字数在800字以内。

---

**版本**: 2.1.0 | **更新**: 2026-02-06
